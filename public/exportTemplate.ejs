<div class="modal-expDialog modal-expLg" id="exportModel" ng-init="open('lg')" style="width:88%!important;">
    <script src="js/datePicker/Calendar.js"></script>
    <script type="text/ng-template" id="modal.ejs">
        <div class="modal-header">
            <div class="row">
                <div class="col-lg-12">
                    <button type="button" class="close" ng-click="closeExportModal()" ng-hide="showExport == false">
                        <span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button>
                </div>
            </div>
        </div>
        <div class="modal-expContent" ng-controller="ExportController as expCtrl" ng-cloak>
                <div class="row">
                <div class="col-lg-12" ng-show="showExport == true">
                    <h5 class="model-title">Please Choose your Export option</h5>
                    <div class="wrapper wrapper-content">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="center">
                                    <label class="btn btn-default">
                                        <input type="radio" id="exportOptionJpeg" name="exportOption" value="JPEG" ng-click="pdfPrintPreview(false);"/> JPEG
                                    </label>
                                    <label class="btn btn-default">
                                        <input type="radio" id="exportOptionPDF" name="exportOption" value="PDF" ng-click="printpaperPDF();pdfPrintPreview(true);"/> PDF
                                    </label>
                                    <label class="btn btn-default">
                                        <input type="radio" id="exportOptionUrl" name="exportOption" value="PDF" ng-click="pdfPrintPreview(false);"/> Share URL
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12" text-center>
                                      <button class="btn btn-primary button-mode" id="submitExpButton" style="float:right;border: none;font-size: 17px;font-weight: 500;border-radius: 5px;margin: 26px 5px 0 5px;cursor: pointer;" ng-click="submitExport();">Export</button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-12" ng-if='showExport == false' ng-show="showExport == false">
                    <div class="md-content previewContentText">
                        <div>
                            <div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="center">
                                            <div class="mainLoading">
                                                <div class="slice">
                                                    <div data-loader="circle-clock"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br/>
                                <div class="row">
                                    <div class="col-md-12">
                                        <h2 class="exportContentText">Initializing Export Please wait for a moment</h2>
                                    </div>
                                </div>
                                <br/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-body" ng-if='expAct==true' ng-show="expAct==true">
                <div class="wrapper wrapper-content">
                    <div class="scrollbar" id="scroller">
                        <div class="row">
                            <h5 class="model-title">PDF Print Preview</h5>
                            <div class="col-lg-12">
                                <div id="dashLayout" class="dashboardLayout">
                                    <div class="white-bg dashboardContent" ng-repeat="aexppage in expPages">
                                        <div class="border-bottom dashboardTitle white-bg" style="max-height: 40px">
                                            <div class="row">
                                                <div class="col col-sm-12">
                                                    <div class="dashboardTemplate-items">
                                                        <div class="col-sm-3 dashboardName">
                                                            <a href="#" ng-model="dashboardName" editable-text="dashboard.dashboardName" onaftersave="changeDashboardName()" buttons="no" e-maxlength="35">
                                                                <pre ng-style="!expCtrl.dashboard.dashboardName  && {'color':'#999'}  || !expCtrl.dashboard.dashboardName && {'color':'#000'}">{{expCtrl.dashboard.dashboardName || 'UnNamed Dashboard'}}</pre>
                                                            </a>
                                                        </div>
                                                        <div class="col-sm-4">
                                                            <div class="daterange daterange--double three"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div gridster="expgridsterOptions" class="row" style="border: 1px solid #efefef;min-height: 500px" id="gridsterItems"><!--ng-switch-when="true"-->
                                            <ul>
                                                <li gridster-item="widget" ng-repeat="(widgetIndex,widget) in aexppage.widgets">
                                                    <div class="box getBox-{{widget.id}}" ng-controller="CustomWidgetController" id="{{widget.id}}">

                                                        <div class="box-header" id="getWidgetColor-{{widget.id}}" ref="{{aexppage.widgetData[widgetIndex].color}}" style="background-color: #ffffff;"> <!--ng-style="{'background-color': aexppage.widgetData[widgetIndex].color}"-->
                                                            <div style="float: left;width: 93%;">
                                                                <!--<img src="image/thumbnail/{{widget.channelName}}.png" style="vertical-align: super;max-height: 31px; max-width: 50px; padding:5px"/>-->
                                                                <h3 style="color: #000000;    padding-top: 4px;">{{aexppage.widgetData[widgetIndex].name}}</h3>
                                                            </div>
                                                        </div>

                                                        <div class="box-content" style="vertical-align: middle" ng-style="{position:(isMobile?'static':'absolute')}">
                                                            <div ng-if="aexppage.widgetData[widgetIndex].visibility == false">
                                                                <div class="spiner-example" id="widgetData-{{widget.id}}">
                                                                    <div class="sk-spinner sk-spinner-double-bounce">
                                                                        <div class="sk-double-bounce1"></div>
                                                                        <div class="sk-double-bounce2"></div>
                                                                    </div>
                                                                </div>
                                                                <div class="errorWidgetData" id="errorWidgetData-{{widget.id}}">
                                                                    <div class="row" style="margin: 0px;height: 100%">
                                                                        <div style="height:99%;">
                                                                            <div style="position:relative; top:36%; text-align:center; padding-right:20px">
                                                                                <p style="word-wrap:break-word;font-size: 12px;">Your credential is insufficient to fetch data for this metric</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row getWidgetGraph" style="height: 100%;margin:0px;" ng-if="aexppage.widgetData[widgetIndex].visibility == true">
                                                                <div ng-repeat="chart in aexppage.widgetData[widgetIndex].chart" ng-if="chart.options.chart.type=== 'lineChart'  || chart.options.chart.type=== 'pieChart' || chart.options.chart.type=== 'multiBarChart' || chart.options.chart.type=== 'multiChart'" style="float: left;padding-left: 2px;padding-right: 2px;" ng-style="{'height': (100/aexppage.widgetData[widgetIndex].layoutOptionsY)+'%', 'width': (100/aexppage.widgetData[widgetIndex].layoutOptionsX)+'%'}">
                                                                    <div class="row" style="margin: 0px;height: 20%">
                                                                        <ul style="height:100%;font-size:14px; padding-left: 5px;">
                                                                            <li  ng-repeat="data in chart.data" ng-class="calculateColumnWidth(chart.data.length)" ng-style="calculateRowHeight(data.myheight,chart.data.length)" style="text-align: center;padding-top: 1px;padding-left:0px;padding-right: 2px;" id="li-{{widget.id}}-{{$index}}"><!--size-watcher-width="data.mywidth"-->
                                                                                <div style="margin: 0px;height: 100%;overflow: hidden;white-space: nowrap;color: #000000;text-align: center" >
                                                                                    <p ng-style="{'color': '#979797', 'font-family' : 'Bebas Neue'}" style="font-weight: bold;">{{data.key}} - <b ng-style="{'color':data.color, 'font-family' : 'Bebas Neue'}"> {{data.summaryDisplay}} </b> </p>
                                                                                </div>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                    <div class="row" style="margin: 0px;height: 80%">
                                                                        <nvd3 options="chart.options" data="chart.data" api="chart.api" config="{refreshDataOnly:true, deepWatchDataDepth: 0}" events="events" ng-if="aexppage.widgetData[widgetIndex].visibility == true"></nvd3>
                                                                    </div>
                                                                </div>
                                                                <div ng-repeat="chart in aexppage.widgetData[widgetIndex].chart" ng-if="chart.options.chart.type=== 'emptyCharts'" style="float: left;padding-left: 2px;padding-right: 2px;" ng-style="{'height': (100/aexppage.widgetData[widgetIndex].layoutOptionsY)+'%', 'width': (100/aexppage.widgetData[widgetIndex].layoutOptionsX)+'%'}">
                                                                    <div class="row" style="margin: 0px;height: 100%">
                                                                        <div events="events" style="height: 99%;" ng-if="aexppage.widgetData[widgetIndex].visibility == true">
                                                                            <div style="position:relative; top: 36%; text-align: center" ng-repeat="data in chart.data">
                                                                                <p style="word-wrap:break-word;">{{data.message}}</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div ng-repeat="chart in aexppage.widgetData[widgetIndex].chart" ng-if="chart.options.chart.type=== 'instagramPosts'" style="float: left;padding-left: 2px;padding-right: 2px;" ng-style="{'height': (100/aexppage.widgetData[widgetIndex].layoutOptionsY)+'%', 'width': (100/aexppage.widgetData[widgetIndex].layoutOptionsX)+'%'}">
                                                                    <div class="row" style="margin: 0px;height: 100%">
                                                                        <div events="events" style="height: 99%" ng-if="aexppage.widgetData[widgetIndex].visibility == true">
                                                                            <div class="scrollbar scrollInWidget" id="scroller">
                                                                                <div class="col-lg-12 listed" ng-repeat="data in chart.data">
                                                                                    <div class="col-lg-1 listed-image" >
                                                                                        <a  href="{{data.links}}" target="_blank"><img src="{{data.image}}" height="50px" widget="50px"/></a>
                                                                                    </div>
                                                                                    <div class="col-lg-11 aside">
                                                                                        <div class="postComment"><a class="apiLink" href="{{data.links}} " target="_blank">{{data.postComment}}</a></div>
                                                                                        <div class="impression">
                                                                                            <div class="likes"><span>likes:{{data.likes}}</span></div>
                                                                                            <div class="comment"><span>Comments:{{data.comments}}</span></div>
                                                                                            <div class="date"><span>{{data.date}}</span></div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div ng-repeat="chart in aexppage.widgetData[widgetIndex].chart" ng-if="chart.options.chart.type=== 'highEngagementTweets'" style="float: left;padding-left: 2px;padding-right: 2px;" ng-style="{'height': (100/aexppage.widgetData[widgetIndex].layoutOptionsY)+'%', 'width': (100/aexppage.widgetData[widgetIndex].layoutOptionsX)+'%'}">
                                                                    <div class="row" style="margin: 0px;height: 100%">
                                                                        <div events="events" style="height: 99%" ng-if="aexppage.widgetData[widgetIndex].visibility == true">
                                                                            <div class="scrollbar scrollInWidget" id="scroller">
                                                                                <div class="col-lg-12 listed" ng-repeat="data in chart.data" ng-if="data.postComment">
                                                                                    <div class="col-lg-12">
                                                                                        <div class="postComment"><a class="apiLink" href="{{data.links.media[0].expanded_url}} " target="_blank">{{data.postComment}}</a></div>
                                                                                        <div class="impression">
                                                                                            <div class="likes"><span>Likes: {{data.likes}}</span></div>
                                                                                            <div class="comment"><span>Retweets: {{data.reTweet}}</span></div>
                                                                                            <div class="date"><span>{{data.date}}</span></div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div ng-repeat="chart in aexppage.widgetData[widgetIndex].chart" ng-if="chart.options.chart.type=== 'highestEngagementLinkedIn'" style="float: left;padding-left: 2px;padding-right: 2px;" ng-style="{'height': (100/aexppage.widgetData[widgetIndex].layoutOptionsY)+'%', 'width': (100/aexppage.widgetData[widgetIndex].layoutOptionsX)+'%'}">
                                                                    <div class="row" style="margin: 0px;height: 100%">
                                                                        <div events="events" style="height: 99%" ng-if="aexppage.widgetData[widgetIndex].visibility == true">
                                                                            <div class="scrollbar scrollInWidget" id="scroller">
                                                                                <div class="col-lg-12 listed" ng-repeat="data in chart.data" ng-if="data.postComment">
                                                                                    <div class="col-lg-12">
                                                                                        <div class="postComment"><a class="apiLink" href="{{data.link}} " target="_blank">{{data.postComment}}</a></div>
                                                                                        <div class="impression">
                                                                                            <div class="likes"><span>Likes: {{data.likes}}</span></div>
                                                                                            <div class="comment"><span>comments: {{data.comments}}</span></div>
                                                                                            <div class="comment"><span>shares: {{data.shares}}</span></div>
                                                                                            <div class="comment"><span>clicks: {{data.clicks}}</span></div>
                                                                                            <div class="comment"><span>impressions: {{data.impressions}}</span></div>
                                                                                            <div class="date"><span>{{data.date}}</span></div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-lg-12" style="position: relative;top:40%;text-align: center;" ng-if="!chart.data.postComment">
                                                                                    <span >No Updates available</span>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div ng-repeat="chart in aexppage.widgetData[widgetIndex].chart" ng-if="chart.options.chart.type=== 'gaTopPagesByVisit'" style="float: left;padding-left: 2px;padding-right: 2px;" ng-style="{'height': (100/aexppage.widgetData[widgetIndex].layoutOptionsY)+'%', 'width': (100/aexppage.widgetData[widgetIndex].layoutOptionsX)+'%'}">
                                                                    <div class="row" style="margin: 0px;height: 100%">
                                                                        <div events="events" style="height: 99%" ng-if="aexppage.widgetData[widgetIndex].visibility == true">
                                                                            <div class="scrollbar scrollInWidget" id="scroller">
                                                                                <div class="col-lg-12 listed" ng-repeat="data in chart.data" ng-if="data.pagePath">
                                                                                    <div class="col-sm-12">
                                                                                        <div class="col-sm-11"min-width="90%">{{data.pagePath}}</div>
                                                                                        <div class="col-sm-1"min-width="10%">{{data.pageVisits}}</div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-lg-12" style="position: relative;top:40%;text-align: center;" ng-if="!chart.data.pagePath">
                                                                                    <span >No Updates available</span>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!--<div class="context widgetTransparentImage" id="widgetTransparentImage-{{widget.id}}" ng-hide="tempDashboard" ng-click="callThePosition($event,widget.id)" style="width: 100%;height: 100%;"></div>-->
                                                        </div>

                                                    </div>
                                                </li>
                                                <li gridster-item="widget" ng-repeat="(widgetIndex,widget) in aexppage.empWidget"></li>
                                            </ul>
                                        </div>
                                        <div style="min-height: 8px;page-break-after: always;" ng-if="$index > 0"></div>
                                    </div>
                                 </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>
</div>